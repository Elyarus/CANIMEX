{"version":3,"sources":["get_animes.js"],"names":["document","addEventListener","options","method","headers","fetch","response","ok","Error","status","json","data","console","log","animes","tbody","getElementById","forEach","anime","tr","createElement","tdTitle","textContent","titulo","tdGenres","genero","tdDuration","duracion","tdImage","img","src","imagen","width","alt","classList","add","tdAcciones","btnEliminar","btnModificar","appendChild","error","querySelectorAll","button","event","row","target","closest","animeId","innerText","trim","value","idAnime","querySelector"],"mappings":"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","sourcesContent":["document.addEventListener('DOMContentLoaded', async () => {\r\n    const options = {\r\n        method: 'GET',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    };\r\n\r\n    try {\r\n        const response = await fetch('http://localhost:8080/api/animes', options);\r\n        if (!response.ok) {\r\n            throw new Error(`HTTP error! Status: ${response.status}`);\r\n        }\r\n        const data = await response.json();\r\n        console.log(data);\r\n\r\n        const animes = data;\r\n        const tbody = document.getElementById('bodyTableAnimes');\r\n        \r\n        animes.forEach(anime => {\r\n            const tr = document.createElement('tr');\r\n            const tdTitle = document.createElement('td');\r\n            tdTitle.textContent = anime.titulo;\r\n            const tdGenres = document.createElement('td');\r\n            tdGenres.textContent = anime.genero;\r\n            const tdDuration = document.createElement('td');\r\n            tdDuration.textContent = anime.duracion;\r\n            const tdImage = document.createElement('td');\r\n            const img = document.createElement('img');\r\n            img.src = \"../assets/img/\" + anime.imagen;\r\n            img.width = 150;\r\n            img.alt = anime.titulo;\r\n            img.classList.add('img-fluid', 'img-thumbnail');\r\n            const tdAcciones = document.createElement('td');\r\n            const btnEliminar = document.createElement('button');\r\n            btnEliminar.textContent = 'Eliminar';\r\n            btnEliminar.classList.add('btnEliminar');\r\n            const btnModificar = document.createElement('button');\r\n            btnModificar.textContent = 'Modificar';\r\n            btnModificar.classList.add('btnModificar');\r\n            tdAcciones.appendChild(btnEliminar);\r\n            tdAcciones.appendChild(btnModificar);\r\n            tdImage.appendChild(img);\r\n            tr.appendChild(tdTitle);\r\n            tr.appendChild(tdDuration);\r\n            tr.appendChild(tdGenres);\r\n            tr.appendChild(tdImage);\r\n            tr.appendChild(tdAcciones);\r\n            tbody.appendChild(tr);\r\n        });\r\n    } catch (error) {\r\n        console.error('Error fetching animes:', error);\r\n    }\r\n    console.log(document.querySelectorAll('button'));\r\n    // agregar eventos despues de crear los botones\r\n    document.querySelectorAll('.btnModificar').forEach(button => {\r\n        button.addEventListener('click', async (event) => {\r\n            console.log(\"hizo click\");\r\n            const row = event.target.closest('tr');\r\n            const animeId = row.querySelectorAll('td:first-child').innerText.trim();\r\n\r\n            try {\r\n                const response = await fetch(`http://localhost:8080/api/animes?id=${animeId}`);\r\n                    if(!response.ok){\r\n                        throw new Error('Error al obtener los datos del anime');\r\n                    }\r\n                const data = await response.json();\r\n                console.log(data);\r\n                document.getElementById('id').value = data[0].idAnime;\r\n                document.getElementById('titulo').value = data[0].titulo;\r\n                document.getElementById('genero').value = data[0].genero;\r\n                document.getElementById('duracion').value = data[0].duracion;\r\n            } catch (error) {\r\n                console.error('Erorr:', error);\r\n            }\r\n        });\r\n    });\r\n    // evento para eliminar\r\n    document.querySelectorAll('.btnEliminar').forEach(button => {\r\n        button.addEventListener('click', async (event) => {\r\n            const row = event.target.closest('tr');\r\n            const animeId = row.querySelector('td:first-child').innerText.trim();\r\n        })\r\n    })\r\n});\r\n"],"file":"get_animes.dev.js"}