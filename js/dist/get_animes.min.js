"use strict";document.addEventListener("DOMContentLoaded",function(){var t,n,r,a,s;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,regeneratorRuntime.awrap(fetch("http://localhost:8080/api/animes",t));case 4:if((n=e.sent).ok){e.next=7;break}throw new Error("HTTP error! Status: ".concat(n.status));case 7:return e.next=9,regeneratorRuntime.awrap(n.json());case 9:r=e.sent,console.log(r),a=r,s=document.getElementById("bodyTableAnimes"),a.forEach(function(e){var t=document.createElement("tr"),n=document.createElement("td");n.textContent=e.titulo;var r=document.createElement("td");r.textContent=e.genero;var a=document.createElement("td");a.textContent=e.duracion;var o=document.createElement("td"),c=document.createElement("img");c.src="../assets/img/"+e.imagen,c.width=150,c.alt=e.titulo,c.classList.add("img-fluid","img-thumbnail");var i=document.createElement("td"),l=document.createElement("button");l.textContent="Eliminar",l.classList.add("btnEliminar");var d=document.createElement("button");d.textContent="Modificar",d.classList.add("btnModificar"),i.appendChild(l),i.appendChild(d),o.appendChild(c),t.appendChild(n),t.appendChild(a),t.appendChild(r),t.appendChild(o),t.appendChild(i),s.appendChild(t)}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.error("Error fetching animes:",e.t0);case 19:console.log(document.querySelectorAll("button")),document.querySelectorAll(".btnModificar").forEach(function(e){e.addEventListener("click",function(t){var n,r,a,o;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("hizo click"),n=t.target.closest("tr"),r=n.querySelectorAll("td:first-child").innerText.trim(),e.prev=3,e.next=6,regeneratorRuntime.awrap(fetch("http://localhost:8080/api/animes?id=".concat(r)));case 6:if((a=e.sent).ok){e.next=9;break}throw new Error("Error al obtener los datos del anime");case 9:return e.next=11,regeneratorRuntime.awrap(a.json());case 11:o=e.sent,console.log(o),document.getElementById("id").value=o[0].idAnime,document.getElementById("titulo").value=o[0].titulo,document.getElementById("genero").value=o[0].genero,document.getElementById("duracion").value=o[0].duracion,e.next=22;break;case 19:e.prev=19,e.t0=e.catch(3),console.error("Erorr:",e.t0);case 22:case"end":return e.stop()}},null,null,[[3,19]])})}),document.querySelectorAll(".btnEliminar").forEach(function(e){e.addEventListener("click",function(t){var n;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.closest("tr"),n.querySelector("td:first-child").innerText.trim();case 2:case"end":return e.stop()}})})});case 22:case"end":return e.stop()}},null,null,[[1,16]])});
//# sourceMappingURL=get_animes.min.js.map
