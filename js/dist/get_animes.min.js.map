{"version":3,"sources":["get_animes.js"],"names":["document","addEventListener","options","response","data","animes","tbody","regeneratorRuntime","async","_context3","prev","next","method","headers","Content-Type","awrap","fetch","sent","ok","Error","concat","status","json","console","log","getElementById","anime","tr","createElement","tdTitle","textContent","titulo","tdGenres","genero","tdDuration","duracion","tdImage","img","src","imagen","width","alt","classList","add","tdAcciones","forEach","btnModificar","appendChild","t0","btnEliminar","querySelectorAll","button","event","row","animeId","_response","_data","_context","innerText","trim","value","idAnime","error","stop","_context2","closest","querySelector"],"mappings":"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","file":"get_animes.min.js","sourcesContent":["document.addEventListener('DOMContentLoaded', async () => {\r\n    const options = {\r\n        method: 'GET',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    };\r\n\r\n    try {\r\n        const response = await fetch('http://localhost:8080/api/animes', options);\r\n        if (!response.ok) {\r\n            throw new Error(`HTTP error! Status: ${response.status}`);\r\n        }\r\n        const data = await response.json();\r\n        console.log(data);\r\n\r\n        const animes = data;\r\n        const tbody = document.getElementById('bodyTableAnimes');\r\n        \r\n        animes.forEach(anime => {\r\n            const tr = document.createElement('tr');\r\n            const tdTitle = document.createElement('td');\r\n            tdTitle.textContent = anime.titulo;\r\n            const tdGenres = document.createElement('td');\r\n            tdGenres.textContent = anime.genero;\r\n            const tdDuration = document.createElement('td');\r\n            tdDuration.textContent = anime.duracion;\r\n            const tdImage = document.createElement('td');\r\n            const img = document.createElement('img');\r\n            img.src = \"../assets/img/\" + anime.imagen;\r\n            img.width = 150;\r\n            img.alt = anime.titulo;\r\n            img.classList.add('img-fluid', 'img-thumbnail');\r\n            const tdAcciones = document.createElement('td');\r\n            const btnEliminar = document.createElement('button');\r\n            btnEliminar.textContent = 'Eliminar';\r\n            btnEliminar.classList.add('btnEliminar');\r\n            const btnModificar = document.createElement('button');\r\n            btnModificar.textContent = 'Modificar';\r\n            btnModificar.classList.add('btnModificar');\r\n            tdAcciones.appendChild(btnEliminar);\r\n            tdAcciones.appendChild(btnModificar);\r\n            tdImage.appendChild(img);\r\n            tr.appendChild(tdTitle);\r\n            tr.appendChild(tdDuration);\r\n            tr.appendChild(tdGenres);\r\n            tr.appendChild(tdImage);\r\n            tr.appendChild(tdAcciones);\r\n            tbody.appendChild(tr);\r\n        });\r\n    } catch (error) {\r\n        console.error('Error fetching animes:', error);\r\n    }\r\n    console.log(document.querySelectorAll('button'));\r\n    // agregar eventos despues de crear los botones\r\n    document.querySelectorAll('.btnModificar').forEach(button => {\r\n        button.addEventListener('click', async (event) => {\r\n            console.log(\"hizo click\");\r\n            const row = event.target.closest('tr');\r\n            const animeId = row.querySelectorAll('td:first-child').innerText.trim();\r\n\r\n            try {\r\n                const response = await fetch(`http://localhost:8080/api/animes?id=${animeId}`);\r\n                    if(!response.ok){\r\n                        throw new Error('Error al obtener los datos del anime');\r\n                    }\r\n                const data = await response.json();\r\n                console.log(data);\r\n                document.getElementById('id').value = data[0].idAnime;\r\n                document.getElementById('titulo').value = data[0].titulo;\r\n                document.getElementById('genero').value = data[0].genero;\r\n                document.getElementById('duracion').value = data[0].duracion;\r\n            } catch (error) {\r\n                console.error('Erorr:', error);\r\n            }\r\n        });\r\n    });\r\n    // evento para eliminar\r\n    document.querySelectorAll('.btnEliminar').forEach(button => {\r\n        button.addEventListener('click', async (event) => {\r\n            const row = event.target.closest('tr');\r\n            const animeId = row.querySelector('td:first-child').innerText.trim();\r\n        })\r\n    })\r\n});\r\n"]}